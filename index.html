<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
    <title>Digital Oak — Portfolio</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      html, body {
        width: 100%; height: 100%; overflow: hidden; background: #0a0f0a;
        overscroll-behavior: none; touch-action: none;
      }
      canvas { display: block; width: 100%; height: 100%; }

      /* ── Loading Screen ──────────────────────────────────── */
      #loading-screen {
        position: fixed;
        inset: 0;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #0a0f0a;
        transition: opacity 0.8s ease, visibility 0.8s ease;
      }
      #loading-screen.fade-out {
        opacity: 0;
        visibility: hidden;
      }
      .loading-content { text-align: center; color: #6B8F5B; }
      .loading-tree-icon { margin-bottom: 20px; }
      .loading-crown {
        animation: breathe 2s ease-in-out infinite;
        transform-origin: 50% 50%;
      }
      @keyframes breathe {
        0%, 100% { opacity: 0.2; transform: scale(0.95); }
        50% { opacity: 0.5; transform: scale(1.05); }
      }
      .loading-text {
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 14px;
        letter-spacing: 0.1em;
        margin-bottom: 16px;
        opacity: 0.7;
      }
      .loading-bar-track {
        width: 200px;
        height: 2px;
        background: rgba(107, 143, 91, 0.2);
        border-radius: 1px;
        overflow: hidden;
        margin: 0 auto;
      }
      .loading-bar-fill {
        height: 100%;
        width: 0%;
        background: #6B8F5B;
        border-radius: 1px;
        transition: width 0.3s ease;
      }

      /* ── Portfolio Overlay ─────────────────────────────── */
      .portfolio-overlay {
        position: fixed;
        inset: 0;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.4s ease;
      }
      .portfolio-overlay.active {
        pointer-events: auto;
        opacity: 1;
      }
      .portfolio-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
      }
      .portfolio-modal {
        position: relative;
        background: rgba(15, 15, 15, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 16px;
        max-width: 800px;
        width: 90vw;
        max-height: 85vh;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        padding: 32px;
        transform: translateY(20px) scale(0.95);
        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
      }
      .portfolio-overlay.active .portfolio-modal {
        transform: translateY(0) scale(1);
      }
      .portfolio-close {
        position: absolute;
        top: 16px;
        right: 16px;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        font-size: 24px;
        width: 44px;
        height: 44px;
        min-width: 44px;
        min-height: 44px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
        z-index: 1;
      }
      .portfolio-close:hover { background: rgba(255, 255, 255, 0.2); }
      .portfolio-media {
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 24px;
        background: #111;
        aspect-ratio: 16/9;
      }
      .portfolio-media video,
      .portfolio-media img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .portfolio-media iframe {
        width: 100%;
        height: 100%;
        border: none;
      }
      .portfolio-title {
        color: white;
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 28px;
        font-weight: 700;
        margin: 0 0 12px;
      }
      .portfolio-description {
        color: rgba(255, 255, 255, 0.7);
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 16px;
        line-height: 1.6;
        margin: 0 0 20px;
      }
      .portfolio-tags {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }
      .portfolio-tag {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.8);
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 13px;
        font-family: system-ui, -apple-system, sans-serif;
      }
      .portfolio-link {
        display: inline-block;
        color: white;
        text-decoration: none;
        font-family: system-ui, -apple-system, sans-serif;
        font-weight: 600;
        padding: 10px 24px;
        border-radius: 8px;
        transition: opacity 0.2s;
      }
      .portfolio-link:hover { opacity: 0.8; }
      .portfolio-link.hidden { display: none; }

      @media (max-width: 640px) {
        .portfolio-modal {
          width: 95vw;
          padding: 20px;
          max-height: 90vh;
        }
        .portfolio-title { font-size: 22px; }
      }

      /* ── Accessibility ───────────────────────────────────── */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
      .skip-link:focus {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 9999;
        width: auto;
        height: auto;
        clip: auto;
        padding: 8px 16px;
        background: white;
        color: black;
        font-size: 14px;
        font-family: system-ui, sans-serif;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <!-- Accessibility: skip link -->
    <a href="#portfolio-list" class="sr-only skip-link">Skip to project list</a>

    <!-- Loading screen -->
    <div id="loading-screen">
      <div class="loading-content">
        <div class="loading-tree-icon">
          <svg viewBox="0 0 100 120" width="60" height="72">
            <path d="M50 10 C30 30, 15 40, 20 55 C25 45, 35 35, 50 30
                     C65 35, 75 45, 80 55 C85 40, 70 30, 50 10Z"
                  fill="currentColor" opacity="0.3" class="loading-crown"/>
            <rect x="46" y="55" width="8" height="30" rx="2"
                  fill="currentColor" opacity="0.5"/>
            <ellipse cx="50" cy="88" rx="20" ry="4"
                     fill="currentColor" opacity="0.1"/>
          </svg>
        </div>
        <div class="loading-text">Growing...</div>
        <div class="loading-bar-track">
          <div class="loading-bar-fill" id="loading-progress"></div>
        </div>
      </div>
    </div>

    <!-- Portfolio overlay -->
    <div id="portfolio-overlay" class="portfolio-overlay" role="dialog" aria-modal="true" aria-label="Project details">
      <div class="portfolio-backdrop"></div>
      <div class="portfolio-modal">
        <button class="portfolio-close" aria-label="Close">&times;</button>
        <div class="portfolio-content">
          <div class="portfolio-media"></div>
          <div class="portfolio-info">
            <h2 class="portfolio-title"></h2>
            <p class="portfolio-description"></p>
            <div class="portfolio-tags"></div>
            <a class="portfolio-link" target="_blank" rel="noopener">View Project &rarr;</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Accessibility: hidden project list for screen readers -->
    <nav id="portfolio-list" class="sr-only" aria-label="Portfolio projects">
      <ul></ul>
    </nav>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
